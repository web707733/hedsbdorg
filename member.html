<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Human Rights & Environment Development Society</title>
  <meta name="description" content="">
  <meta name="keywords" content="">

  <!-- Favicons -->
  <!--<link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">-->

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="https://hedsbd.org/bootstrap.min.css" rel="stylesheet">
  <!-- Option 1: Include in HTML -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
<link href="https://hedsbd.org/aos.css" rel="stylesheet">
  <link href="https://hedsbd.org/glightbox.min.css" rel="stylesheet">
  <link href="https://hedsbd.org/swiper-bundle.min.css" rel="stylesheet">
  <!-- Main CSS File -->
  <link href="https://hedsbd.org/main.css" rel="stylesheet">

</head>

<body class="index-page">

  <header id="header" class="header sticky-top">

    <div class="topbar d-flex align-items-center accent-background">
      <div class="container d-flex justify-content-center justify-content-md-between">
        <div class="contact-info d-flex align-items-center">
          <i class="bi bi-envelope d-flex align-items-center">
            <a href="mailto:info@hedsbd.org">info@hedsbd.org</a></i>
          <i class="bi bi-phone d-flex align-items-center ms-4"><span>02 488111916</span></i>
        </div>
        <div class="social-links d-none d-md-flex align-items-center">
          <a href="#" class="twitter"><i class="bi bi-twitter-x"></i></a>
          <a href="#" class="facebook"><i class="bi bi-facebook"></i></a>
          <a href="#" class="instagram"><i class="bi bi-instagram"></i></a>
          <a href="#" class="linkedin"><i class="bi bi-linkedin"></i></a>
        </div>
      </div>
    </div><!-- End Top Bar -->

    <div class="branding d-flex align-items-cente">

      <div class="container position-relative d-flex align-items-center justify-content-between">
        <a href="index.html" class="logo d-flex align-items-center">
          <!-- Uncomment the line below if you also wish to use an image logo -->
          <img src="https://hedsbd.org/logo-final-300x286.png" alt="">
          <h2 style="font-size: 14px;">Human Rights & Environment<br> Development Society<br>
          S12206/2015</h1>
        </a>

        <nav id="navmenu" class="navmenu">
          
          <ul>
            <li>
                <a href="https://hedsbd.org/" aria-current="page">Home</a>
            </li>
            <li class="dropdown">
                <a href="#">About<i class="bi bi-chevron-down toggle-dropdown"></i></a>
                <ul>
                    <li><a href="https://hedsbd.org/">Executive Member</a></li>
                    <li><a href="https://hedsbd.org/">Advisor</a></li>
                    <li><a href="https://hedsbd.org/">Objectives of Society</a></li>
                    <li><a href="https://hedsbd.org/">Memorandum (Bangla)</a></li>
                </ul>
            </li>
            <li  class="dropdown">
                <a href="https://hedsbd.org/">Notice<i class="bi bi-chevron-down toggle-dropdown"></i></a>
                <ul>
                    <li><a href="#">Message</a></li>
                </ul>
            </li>
            <li  class="dropdown">
                <a href="https://hedsbd.org/">Branch &amp; Committee<i class="bi bi-chevron-down toggle-dropdown"></i></a>
                <ul>
                    <li><a href="https://hedsbd.org/">Central Committee</a></li>
                </ul>
            </li>
            <li><a href="https://hedsbd.org/">Activities</a></li>
            <li class="dropdown">
                <a href="https://hedsbd.org/">Gallery<i class="bi bi-chevron-down toggle-dropdown"></i></a>
                <ul>
                    <li><a href="https://hedsbd.org/">Image</a></li>
                    <li><a href="https://hedsbd.org/">Video</a></li>
                </ul>
            </li>
            <li class="dropdown">
                <a href="https://hedsbd.org/">Members<i class="bi bi-chevron-down toggle-dropdown"></i></a>
                <ul>
                    <li><a href="https://hedsbd.org/">Member Registration</a></li>
                    <li><a href="https://hedsbd.org/">General Member</a></li>
                    <li><a href="https://hedsbd.org/">Life Member</a></li>
                    <li><a href="https://hedsbd.org/">Donor Member</a></li>
                    <li><a href="https://hedsbd.org/">Central Coordinator</a></li>
                </ul>
            </li>
            <li  class="dropdown">
                <a href="https://hedsbd.org/">Contact Us<i class="bi bi-chevron-down toggle-dropdown"></i></a>
                <ul>
                    <li><a href="https://hedsbd.org/">Membership form</a></li>
                </ul>
            </li>
        </ul>
        
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          <!--
          <ul>
            <li><a href="#hero" class="active">Home</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#services">Services</a></li>
            <li><a href="#portfolio">Portfolio</a></li>
            <li><a href="#team">Team</a></li>
            <li class="dropdown"><a href="#"><span>Dropdown</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
              <ul>
                <li><a href="#">Dropdown 1</a></li>
                <li class="dropdown"><a href="#"><span>Deep Dropdown</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
                  <ul>
                    <li><a href="#">Deep Dropdown 1</a></li>
                    <li><a href="#">Deep Dropdown 2</a></li>
                    <li><a href="#">Deep Dropdown 3</a></li>
                    <li><a href="#">Deep Dropdown 4</a></li>
                    <li><a href="#">Deep Dropdown 5</a></li>
                  </ul>
                </li>
                <li><a href="#">Dropdown 2</a></li>
                <li><a href="#">Dropdown 3</a></li>
                <li><a href="#">Dropdown 4</a></li>
              </ul>
            </li>
            <li><a href="#contact">Contact</a></li>
          </ul>-->
          <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
        </nav>

      </div>

    </div>

  </header>

  <main class="main">

 
 
    <!-- About Section -->
    <section id="about" class="about section">

      <!-- Section Title -->
    
      <div class="container">

        <div class="row gy-4">
        <!--------------------------------------------------------------------------------------->  
          


  <style>
    :root { font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, sans-serif; }
    body { margin: 0; background: #f6f7f9; color: #111; }
    .wrap { max-width: 1200px; margin: 40px auto; padding: 24px; background: #fff; border-radius: 16px; box-shadow: 0 6px 30px rgba(0,0,0,.06); }
    h1 { margin: 0 0 16px; font-size: 22px; }
    .grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; }
    .field { display: flex; flex-direction: column; gap: 6px; }
    label { font-size: 12px; color: #444; }
    input[type="text"] { padding: 10px 12px; border: 1px solid #d6d8dd; border-radius: 10px; font-size: 14px; }
    .actions { margin-top: 12px; display: flex; gap: 8px; flex-wrap: wrap; }
    button { padding: 10px 14px; border: 0; border-radius: 10px; background: #111; color: #fff; font-weight: 600; cursor: pointer; }
    button.secondary { background: #e9eaee; color: #111; }
    button:disabled { opacity: .6; cursor: not-allowed; }
    .status { margin-top: 10px; font-size: 14px; }
    .error { color: #b00020; }
    .success { color: #1a7f37; }
    table { width: 100%; border-collapse: collapse; margin-top: 16px; }
    th, td { text-align: left; padding: 10px 12px; border-bottom: 1px solid #eee; vertical-align: top; }
    th { background: #fafbfc; font-weight: 600; position: sticky; top: 0; }
    .thumb { width: 56px; height: 56px; object-fit: cover; border-radius: 8px; border: 1px solid #e5e7eb; }
    .meta { font-size: 12px; color: #555; margin-top: 6px; }
    @media (max-width: 1000px) { .grid { grid-template-columns: repeat(2, 1fr); } }
    @media (max-width: 580px) { .grid { grid-template-columns: 1fr; } }
  </style>

  <div class="wrap">
    <h1>Member Directory Search</h1>

    <div class="grid">
      <div class="field"><label for="member_id">MEMBER_ID</label><input id="member_id" type="text" placeholder="A001" /></div>
      <div style="display: none;"  class="field"><label for="name">NAME</label><input id="name" type="text" placeholder="Alice" /></div>
      <div style="display: none;"  class="field"><label for="mobile">MOBILE</label><input id="mobile" type="text" placeholder="017..." /></div>
      <div style="display: none;"  class="field"><label for="address">ADDRESS</label><input id="address" type="text" placeholder="Road 12" /></div>




      <div class="field"><label for="district">DISTRICT</label><input id="district" type="text" placeholder="Dhaka" />
    
    
    </div>
      <div class="field"><label for="upazilla">UPAZILLA</label><input id="upazilla" type="text" placeholder="Savar" /></div>
      <div class="field"><label for="comittee">COMITTEE</label><input id="comittee" type="text" placeholder="Finance" /></div>





      <div style="display: none;"  class="field"><label for="position">POSITION</label><input id="position" type="text" placeholder="Chair" /></div>
      <div style="display: none;"  class="field"><label for="image_url">IMAGE_URL</label><input id="image_url" type="text" placeholder="https://..." /></div>
      <div style="display: none;"  class="field"><label for="meta1">META1</label><input id="meta1" type="text" placeholder="..." /></div>
      <div style="display: none;"  class="field"><label for="meta2">META2</label><input id="meta2" type="text" placeholder="..." /></div>
      <div style="display: none;"  class="field"><label for="meta3">META3</label><input id="meta3" type="text" placeholder="..." /></div>
      <div style="display: none;"  class="field"><label for="meta4">META4</label><input id="meta4" type="text" placeholder="..." /></div>
    </div>

    <div class="actions">
      <button id="searchBtn">Search</button>
      <button id="clearBtn" class="secondary">Clear</button>
      <button id="shareBtn" class="secondary" title="Copy a shareable link with current filters">Copy Share Link</button>
    </div>

    <div class="status" id="status"></div>
    <div class="meta" id="meta"></div>

    <div id="tableWrap"></div>

    <div class="meta">
      API: <code id="apiBase"></code>
    </div>
  </div>






  <script>
    // Update to your current deployment URL
    const BASE_URL = "https://script.google.com/macros/s/AKfycbw7VTqtB_qvy1_f3XnVzBJqO1aFrwHDm1flr9Y3NsaZhBTTWCyR-GOw2P_FiH2twZeEAA/exec";

    const $ = (id) => document.getElementById(id);
    const statusEl = $('status');
    const metaEl = $('meta');
    const tableWrap = $('tableWrap');
    $('apiBase').textContent = BASE_URL;

    // Inputs mapped to API parameter (must match header names in the sheet)
    const inputs = {
      MEMBER_ID: $('member_id'),
      NAME: $('name'),
      MOBILE: $('mobile'),
      ADDRESS: $('address'),
      DISTRICT: $('district'),
      UPAZILLA: $('upazilla'),
      COMITTEE: $('comittee'),  // note: if your sheet uses COMMITTEE, update both here and in the sheet/API
      POSITION: $('position'),
      IMAGE_URL: $('image_url'),
      META1: $('meta1'),
      META2: $('meta2'),
      META3: $('meta3'),
      META4: $('meta4')
    };

    function setStatus(msg, cls = "") {
      statusEl.className = `status ${cls}`;
      statusEl.textContent = msg || "";
    }
    function setMeta(msg = "") { metaEl.textContent = msg; }

    function escapeHtml(s) {
      return String(s).replace(/[&<>"'`=\/]/g, ch => ({
        '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;',
        "'": '&#39;', '`': '&#96;', '=': '&#61;', '/': '&#47;'
      }[ch]));
    }

    function buildQuery() {
      const params = new URLSearchParams();
      Object.entries(inputs).forEach(([key, el]) => {
        const v = (el.value || '').trim();
        if (v) params.set(key, v);
      });
      params.set("page", "1");
      params.set("page_size", "500");
      return params;
    }

    function updateUrlBar(params) {
      const url = new URL(location.href);
      Object.keys(inputs).forEach(k => url.searchParams.delete(k));
      for (const [k,v] of params.entries()) {
        if (["page","page_size"].includes(k)) continue;
        url.searchParams.set(k, v);
      }
      history.replaceState(null, "", url.toString());
    }

    function renderTable(rows) {
      if (!Array.isArray(rows) || rows.length === 0) {
        tableWrap.innerHTML = `<div class="status">No results.</div>`;
        return;
      }
      const cols = ["MEMBER_ID","NAME","MOBILE","ADDRESS","DISTRICT","UPAZILLA","COMMITTEE","POSITION","IMAGE_URL","META1","META2","META3","META4"];
      const cols = ["MEMBER_ID","NAME","MOBILE","ADDRESS","DISTRICT","UPAZILLA","COMMITTEE","POSITION","IMAGE_URL","META1","META2","META3","META4"];
      const thead = `<thead><tr>${cols.map(c=>`<th>${escapeHtml(c)}</th>`).join("")}</tr></thead>`;
      const tbody = `<tbody>${rows.map(r => {
        const img = r.IMAGE_URL ? `<a href="${escapeHtml(r.IMAGE_URL)}" target="_blank" rel="noopener">
                                     <img class="thumb" src="${escapeHtml(r.IMAGE_URL)}" alt="img" onerror="this.style.display='none'">
                                   </a>` : "";
        return `<tr>
          <td>${escapeHtml(r.MEMBER_ID ?? "")}</td>
          <td>${escapeHtml(r.NAME ?? "")}</td>
          <td>${escapeHtml(r.MOBILE ?? "")}</td>
          <td>${escapeHtml(r.ADDRESS ?? "")}</td>
          <td>${escapeHtml(r.DISTRICT ?? "")}</td>
          <td>${escapeHtml(r.UPAZILLA ?? "")}</td>
          <td>${escapeHtml(r.COMMITTEE ?? "")}</td>
          <td>${escapeHtml(r.POSITION ?? "")}</td>
          <td>${img || escapeHtml(r.IMAGE_URL ?? "")}</td>
          <td style="display:none">${escapeHtml(r.META1 ?? "")}</td>
          <td style="display:none">${escapeHtml(r.META2 ?? "")}</td>
          <td style="display:none">${escapeHtml(r.META3 ?? "")}</td>
          <td style="display:none">${escapeHtml(r.META4 ?? "")}</td>
        </tr>`;
      }).join("")}</tbody>`;
      tableWrap.innerHTML = `<table>${thead}${tbody}</table>`;
    }

    async function search() {
      const params = buildQuery();

      // require at least one filter
      const hasAny = [...params.keys()].some(k => Object.keys(inputs).includes(k));
      if (!hasAny) {
        setStatus("Enter at least one filter.", "error");
        tableWrap.innerHTML = "";
        setMeta("");
        return;
      }

      const url = `${BASE_URL}?${params.toString()}`;
      setStatus("Searching…");
      setMeta("");
      tableWrap.innerHTML = "";
      $('searchBtn').disabled = true;

      try {
        const res = await fetch(url, { method: 'GET' });
        const data = await res.json().catch(() => ({}));
        if (!res.ok || data.ok === false) {
          const msg = (data && (data.error || data.message)) || `HTTP ${res.status}`;
          setStatus(msg, "error");
          tableWrap.innerHTML = "";
          return;
        }
        const rows = Array.isArray(data.data) ? data.data : [];
        setStatus(`Found ${data.total ?? rows.length} result(s).`, "success");
        setMeta(`Request URL: ${url}`);
        renderTable(rows);
        updateUrlBar(params);
      } catch (err) {
        setStatus(`Network error: ${err.message}`, "error");
      } finally {
        $('searchBtn').disabled = false;
      }
    }

    function clearFilters() {
      Object.values(inputs).forEach(inp => inp.value = "");
      tableWrap.innerHTML = "";
      setStatus("");
      setMeta("");
      updateUrlBar(new URLSearchParams());
    }

    function copyShareLink() {
      const params = buildQuery();
      const url = new URL(location.href);
      url.search = "";
      for (const [k,v] of params.entries()) {
        if (["page","page_size"].includes(k)) continue;
        if (v) url.searchParams.set(k, v);
      }
      navigator.clipboard.writeText(url.toString())
        .then(() => setStatus("Link copied!", "success"))
        .catch(() => setStatus("Could not copy link", "error"));
    }

    // Wire up
    $('searchBtn').addEventListener('click', search);
    $('clearBtn').addEventListener('click', clearFilters);
    $('shareBtn').addEventListener('click', copyShareLink);
    Object.values(inputs).forEach(inp => {
      inp.addEventListener('keydown', (e) => { if (e.key === 'Enter') search(); });
    });

    // Initialize from URL (case-sensitive to match API param names)
    (function initFromUrl() {
      const sp = new URLSearchParams(location.search);
      Object.keys(inputs).forEach(k => { if (sp.has(k)) inputs[k].value = sp.get(k) || ''; });
      if ([...sp.keys()].some(k => Object.keys(inputs).includes(k))) search();
    })();
  </script>

















        <!------------------------------------------------------------------------------>
        </div>

      </div>

    </section><!-- /About Section -->

   


    <!-- Contact Section 
    <section id="contact" class="contact section">

     

    </section><!-- /Contact Section -->

  </main>

  <footer id="footer" class="footer dark-background">

    <div class="container footer-top">
      <div class="row gy-4">
        <div class="col-lg-5 col-md-12 footer-about">
          <a href="index.html" class="logo d-flex align-items-center">
            <span class="sitename">HEDS</span>
          </a>
<p>

  Human Right & Environment <br>Development Society (HEDS) <br>
  is a human rights organization<br> working for human rights<br>
   and environmental justice <br>through research, training, <br>dialogue and advocacy.
</p>




          <div class="social-links d-flex mt-4">
            <a href=""><i class="bi bi-twitter-x"></i></a>
            <a href=""><i class="bi bi-facebook"></i></a>
            <a href=""><i class="bi bi-instagram"></i></a>
            <a href=""><i class="bi bi-linkedin"></i></a>
          </div>
        </div>

        <div class="col-lg-2 col-6 footer-links">
          
        </div>

        <div class="col-lg-2 col-6 footer-links">
          
        </div>

        <div class="col-lg-3 col-md-12 footer-contact text-center text-md-start">
          <h4>Contact Us</h4>
          <p>Swit: 69, Gulsan Shopping<br> Center(1st Floor), Gulsan-1,<br> Dhaka-1212, Bangladesh.</p>
         
          <p class="mt-4"><strong>Phone:</strong> <span>02 488111916</span></p>
          <p class="mt-4"><strong>Mobile:</strong> <span>+8801707070307</span></p>
          <p><strong>Email:</strong> <span>info@hedsbd.org</span></p>
        </div>

      </div>
    </div>

    <div class="container copyright text-center mt-4">
      <p>© <span>Copyright</span> <strong class="px-1 sitename">hedsbd.com</strong> <span>All Rights Reserved</span></p>
     
    </div>

  </footer>

  <!-- Scroll Top -->
  <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Preloader -->
  <div id="preloader"></div>

  <!-- Vendor JS Files -->
  <script src="https://hedsbd.org/bootstrap.bundle.min.js"></script>
 <script src="https://hedsbd.org/aos.js"></script>
  <script src="https://hedsbd.org/glightbox.min.js"></script>
 
  <script src="https://hedsbd.org/swiper-bundle.min.js"></script>

  <!-- Main JS File -->
  <script src="https://hedsbd.org/main.js"></script>

</body>

</html>
